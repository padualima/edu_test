<div data-controller="form-filter">
  <%= form_with(scope: :filter, url: portfolios_path, method: :get, class: "form-inline pt-3") do |form| %>
    <div class="d-flex align-items-center justify-content-center">
      <div class="form-floating col-3 col-md-2 mx-2">
        <%= form.select(
          :year_id,
          options_for_select(@year_groups),
          { include_blank: true },
          {
            class: "form-select form-select-sm",
            id: "years_select",
            required: true,
            aria: { label: "Select year" },
            data: { target: "years", action: "change->form-filter#remoteselect" }
          }) %>
        <label>Selecione Ano</label>
      </div>

      <div class="form-floating col-3 col-md-2 mx-2">
        <%= form.select(
          :state_id,
          options_for_select([]),
          { include_blank: true },
          {
            class: "form-select form-select-sm",
            id: "states_select",
            required: true,
            aria: { label: "Select state" },
            data: { form_filter_target: "states"}
          }) %>
        <label>Selecione Estado</label>
      </div>

      <div class="m-3 d-flex">
        <%= form.submit "Filtrar", class: "btn btn-outline-secondary my-1 btn-sm", turbo_frame: :filter_field  %>
      </div>
    </div>
  <% end %>
</div>
